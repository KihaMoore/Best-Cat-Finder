<!DOCTYPE html>
<html>
<head>
	<title>Cat Finder Survey!</title>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!-- add link to the jQuery CDN -->
	<script src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>

	<!-- Bootstrap section -->
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<!-- Optional theme -->
	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/darkly/bootstrap.min.css">
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	
	<!-- Chosen Library for taming selection boxes -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

	<!-- Make final css adjustments with personal stylesheet -->
	<link rel="stylesheet" type="text/css" href="css/survey.css">
	<style>
	
	
	</style>

</head>

<body>

	<!-- first a navbar , not used, adds nice visual touch -->
	<nav class="navbar ">
		<p class="navbar-text"><h2 class="text-center">Pet Friend Finder Survey Questions</h2></p>
	</nav>
	
	<!-- begin the bootstrap container -->
	<div class="container">


<ul>
	<li>
		<h3><strong>Question 1</strong></h3>
		<h4>I love fluffy cat!</h4>
	 	<select data-placeholder="" class="chosen-select" id="q1">
            <option value="1">1 Love</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
 	</select>
</li>
	 <li>
		<h3><strong>Question 2</strong></h3>
		<h4>I love naugty cat</h4>
	 	<select data-placeholder="" class="chosen-select" id="q2">
            <option value="1">1 Love</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
<li>
		<h3><strong>Question 3</strong></h3>
		<h4>I love small cat</h4>
	 	<select data-placeholder="" class="chosen-select" id="q3">
            <option value="1">1 Love</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
<li>
		<h3><strong>Question 4</strong></h3>
		<h4>I love a sweet cat</h4>
	 	<select data-placeholder="" class="chosen-select" id="q4">
            <option value="1">1 Love</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
<li>
		<h3><strong>Question 5</strong></h3>
		<h4>Do you like short hair cat?</h4>
	 	<select data-placeholder="" class="chosen-select" id="q5">
            <option value="1">1 Love it</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
<li></li>
		<h3><strong>Question 6</strong></h3>
		<h4>Can you afford spending alot of money of cat food?</h4>
	 	<select data-placeholder="" class="chosen-select" id="q6">
            <option value="1">1 Yes</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
<li></li>
		<h3><strong>Question 7</strong></h3>
		<h4>I love dog more than cat.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q7">
            <option value="1">1 Yes</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
				<li>
		<h3><strong>Question 8</strong></h3>
		<h4>small cats are the best!</h4>
	 	<select data-placeholder="" class="chosen-select" id="q8">
            <option value="1">1 Yes</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
				<li>
		<h3><strong>Question 9</strong></h3>
		<h4>Do you have a big space?</h4>
	 	<select data-placeholder="" class="chosen-select" id="q9">
            <option value="1">1 Yes</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
				<li>
		<h3><strong>Question 10</strong></h3>
		<h4>Do you prefer white cat?</h4>
	 	<select data-placeholder="" class="chosen-select" id="q10">
            <option value="1">1 Yes</option>
            <option value="2">2 Maybe</option>
            <option value="3">3 Depends</option>
            <option value="4">4 Sometimes</option>
            <option value="5">5 Nope</option>
      	</select>
			</li>
		<br>
		<br>
	</ul>
		<!-- Submit Button -->
		<button type="submit" class="btn  btn-info btn-lg" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit</button>

	</div>

	<!-- Modal -->
	<div id="resultsModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h2 class="modal-title"><strong>Your perfect Cat Friend:</strong></h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchName"></h2>
      	<img id="matchImg" class="img-responsive" src="https://www.petsfriendsunnyvale.com/storage/app/media/bigstock-British-Longhair-Cat--Months-10206431.jpg">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>
	
	<!-- end the bootstrap container -->
	</div>

	<div class="container vertical_alignment">
			<p class="text-center footer"><a href="/api/cats" target="_blank">API Cats List</a> | <a href="https://github.com/KihaMoore/Best-Cat-Finder" target="_blank">GitHub Repo</a></p>
	 </div>
	
	<script>

var config = {
	'.chosen-select'           : {},
	'.chosen-select-deselect'  : {allow_single_deselect:true},
	'.chosen-select-no-single' : {disable_search_threshold:10},
	'.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
	'.chosen-select-width'     : {width:"95%"}
};

for (var selector in config) {
	$(selector).chosen(config[selector]);
}

// Capture the form inputs 
$("#submit").on("click", function(){

	// Form validation
	function validateForm() {
		var isValid = true;
		$('.form-control').each(function() {
		if ( $(this).val() === '' )
			isValid = false;
		});

		$('.chosen-select').each(function() {

	  	if( $(this).val() === "")
	  		isValid = false;
		});

		return isValid;
	}

	// If all required fields are filled
	if (validateForm() == true)
	{
		// Create an object for the user's data
    	var userInput = {
			scores: [$("#q1").val().trim(),  
							 $("#q2").val().trim(), 
							 $("#q3").val().trim(), 
							 $("#q4").val().trim(), 
							 $("#q5").val().trim(), 
							 $("#q6").val().trim(), 
							 $("#q7").val().trim(), 
							 $("#q8").val().trim(), 
							 $("#q9").val().trim(), 
							 $("#q10").val().trim()]
			 };

    	$.post( "/api/cats", userInput).done(function(data){

    		// Grab the result from the AJAX post so that the best match's name and photo are displayed.
    		// $("#matchName").tex(data.matchName);
    		$('#matchImg').attr("src", data.matchPhoto);

	    	// Show the modal with the best match 
	    	$("#resultsModal").modal('toggle');

    	});
	}
	else
	{
		alert("Please fill out all fields before submitting!");
	}
	
	
});

</script>
</body>
</html>
